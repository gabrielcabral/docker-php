(function(g){var b={init:function(i){i=jQuery.extend({buttons:true,removeText:" < ",addText:" > ",removeAllText:" << ",addAllText:" >> ",cssClass:"agrupador inLine listaSelecao",ieBg:"",ieColor:"graytext",fromLabel:"Disponíveis",toLabel:"Selecionados",testMode:false},i);return this.each(function(){if(this.multiple==false){return}var j=this.name;if(!this.id){this.id=this.name.match(/[a-zA-Z0-9]+/)}var l=this.id;var p=jQuery("#"+l);jQuery(this.form).submit(function(t){if(i.testMode){t.preventDefault()}for(var s=0;s<this.pickLists.length;s++){f(this.pickLists[s])}}).each(function(){if(this.pickLists==undefined){this.pickLists=new Array()}this.pickLists.push(l)});var k=g(this).parent();var q=k.children("span");var m=k.children(".msgOrientacao");var n=k.children(".msgErro");var r=6;var o=(g(this).height()-96)/2;if(parseFloat(g(this).attr("size"))>r){r=g(this).attr("size")}else{g(this).attr("size",r)}k.after(g('<fieldset class="'+i.cssClass+" "+q.attr("class")+'"></fieldset>').append("<legend>"+q.html()+"</legend>").append(g('<label for="from_'+l+'"></label>').append("<span>"+i.fromLabel+"</span>").append('<select id="from_'+l+'" multiple="multiple" size="'+r+'" ></select>')).append(g('<div class="pickListButtons"></div>').attr("style","padding-top:"+o+"px").append('<button id="b_to_all_'+l+'">'+i.addAllText+"</button>").append('<button id="b_to_'+l+'">'+i.addText+"</button>").append('<button id="b_from_'+l+'">'+i.removeText+"</button>").append('<button id="b_from_all_'+l+'">'+i.removeAllText+"</button>")).append(g('<label for="'+l+'"></label>').append("<span>"+i.toLabel+"</span>").append(this)).append(m).append(n));k.remove();d(l,"from_"+l);jQuery("#from_"+l).dblclick(function(){e("from_"+l,l)});jQuery("#"+l).dblclick(function(){h(l,"from_"+l)});if(i.buttons){jQuery("#b_to_"+l).click(function(s){s.preventDefault();e("from_"+l,l)});jQuery("#b_from_"+l).click(function(s){s.preventDefault();h(l,"from_"+l)});jQuery("#b_to_all_"+l).click(function(s){s.preventDefault();c("from_"+l,l)});jQuery("#b_from_all_"+l).click(function(s){s.preventDefault();a(l,"from_"+l)})}if(jQuery.fn.emulateDisabled){jQuery("#from_"+l).emulateDisabled()}if(jQuery.fn.obviouslyDisabled){jQuery("#from_"+l).obviouslyDisabled({textColor:i.ieColor,bgColor:i.ieBg})}if(p.attr("disabled")){p.pickList("disable")}else{p.pickList("enable")}})},enable:function(){g(this).parent().parent().find("select,button").removeAttr("disabled")},disable:function(){g(this).parent().parent().find("select,button").attr("disabled","disabled")}};g.fn.pickList=function(i){if(b[i]){return b[i].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof i==="object"||!i){return b.init.apply(this,arguments)}else{alert("Metodo ou propriedade não suportado!")}}};function f(i){g("#"+i+" option").attr("selected",true);g("#from_"+i+" option").attr("selected",false)}function e(k,j){var i=jQuery("#"+j)[0];jQuery("#"+k+" option:selected").clone().each(function(){if(this.disabled==true){return}jQuery(this).appendTo(i).attr("selected",false)});jQuery("#"+k+" option:selected").attr("selected",false).attr("disabled","disabled");if(jQuery.fn.obviouslyDisabled){jQuery("#"+k).obviouslyDisabled({textColor:settings.ieColor,bgColor:settings.ieBg})}}function c(k,j){var i=jQuery("#"+j)[0];jQuery("#"+k+" option").clone().each(function(){if(this.disabled==true){return}jQuery(this).appendTo(i).attr("selected",false)});jQuery("#"+k+" option").attr("selected",false).attr("disabled","disabled");if(jQuery.fn.obviouslyDisabled){jQuery("#"+k).obviouslyDisabled({textColor:settings.ieColor,bgColor:settings.ieBg})}}function a(k,j){var i=jQuery("#"+j)[0];jQuery("#"+k+" option").each(function(){select=jQuery(this);val=select.attr("selected",false).val();select.remove();jQuery("option:disabled",jQuery("#"+j)).each(function(){if(this.value==val){jQuery(this).attr("disabled",false)}})});if(jQuery.fn.obviouslyDisabled){jQuery("#"+j).obviouslyDisabled({textColor:settings.ieColor,bgColor:settings.ieBg})}}function h(k,j){var i=jQuery("#"+j)[0];jQuery("#"+k+" option:selected").each(function(){select=jQuery(this);val=select.attr("selected",false).val();select.remove();jQuery("option:disabled",jQuery("#"+j)).each(function(){if(this.value==val){jQuery(this).attr("disabled",false)}})});if(jQuery.fn.obviouslyDisabled){jQuery("#"+j).obviouslyDisabled({textColor:settings.ieColor,bgColor:settings.ieBg})}}function d(j,i){jQuery("#"+i).html(jQuery("#"+j).html()).find("option:selected").attr("selected",false).attr("disabled","disabled");jQuery("#"+j+" option").each(function(){if(!g(this).attr("selected")){jQuery(this).remove()}else{jQuery(this).attr("selected",false)}})}})(jQuery);